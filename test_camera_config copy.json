{
    "camera_configuration": {
        "model": "orbec_gemini_335le",
        "camera_ip": "192.168.1.10",
        "align": "d2c",
        "disparity_to_depth": true,
        "color": {
            "width": 1280,
            "height": 800,
            "fps": 30,
            "format": "MJPG",
            "exposure": 500,
            "gain": 10,
            "white_balance": 4000
        },
        "depth": {
            "width": 640,
            "height": 400,
            "fps": 30,
            "format": "Y16",
            "exposure": 500,
            "gain": 10,
            "laser_power": 5
        },
        "filters": {
            "spatial": false,
            "temporal": false
        }

    },
    "postprocessors": {
        "box_detection": [
            {
                "center_point": [1050, 550],
                "fix_depth_on": true,
                "fix_depth_config": {
                    "closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "zero_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "r_wide": 2.0,
                    "r_tall": 0.5,
                    "final_closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    }
                },
                "depth": {
                    "min_non_zero_percentage": 0.3,
                    "center_size": 100,
                    "depth_range": 35,
                    "depth_bias": 44
                },
                "hsv": {
                    "hsv_h_min": 70,
                    "hsv_h_max": 105,
                    "hsv_s_min": 10,
                    "hsv_s_max": 255,
                    "hsv_v_min": 120,
                    "hsv_v_max": 255
                },
                "preprocess": {
                    "blur_size": 15,
                    "opened_kernel_type": "MORPH_RECT",
                    "opened_size": [2, 9],
                    "opened_iterations": 3,
                    "closed_size": [1, 9],
                    "closed_iterations": 3,
                    "closed_kernel_type": "MORPH_ELLIPSE"
                },
                "remove_cnts": {"expected_width": 1150, "expected_height": 850},
                "edge_removal": {"edge_margin": 35},
                "hit_contours": {"angle_step": 10, "step_size": 1},
                "rect_validation": {
                    "max_angle": 20,
                    "box_ratio_range": [1.293, 1.387],
                    "max_distance": 150
                }
            },
            {
                "center_point": [1050, 550],
                "fix_depth_on": true,
                "fix_depth_config": {
                    "closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "zero_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "r_wide": 2.0,
                    "r_tall": 0.5,
                    "final_closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    }
                },
                "depth": {
                    "min_non_zero_percentage": 0.3,
                    "center_size": 100,
                    "depth_range": 35,
                    "depth_bias": 44
                },
                "hsv": {
                    "hsv_h_min": 70,
                    "hsv_h_max": 105,
                    "hsv_s_min": 10,
                    "hsv_s_max": 255,
                    "hsv_v_min": 100,
                    "hsv_v_max": 255
                },
                "preprocess": {
                    "blur_size": 15,
                    "opened_kernel_type": "MORPH_RECT",
                    "opened_size": [2, 9],
                    "opened_iterations": 3,
                    "closed_size": [1, 9],
                    "closed_iterations": 6,
                    "closed_kernel_type": "MORPH_ELLIPSE"
                },
                "remove_cnts": {"expected_width": 1150, "expected_height": 850},
                "edge_removal": {"edge_margin": 50},
                "hit_contours": {"angle_step": 10, "step_size": 1},
                "rect_validation": {
                    "max_angle": 20,
                    "box_ratio_range": [1.293, 1.387],
                    "max_distance": 150
                }
            },
            {
                "center_point": [1050, 550],
                "fix_depth_on": true,
                "fix_depth_config": {
                    "closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "zero_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    },
                    "r_wide": 2.0,
                    "r_tall": 0.5,
                    "final_closing_mask": {
                        "kernel_size": 10,
                        "iterations": 2
                    }
                },
                "depth": {
                    "min_non_zero_percentage": 0.3,
                    "center_size": 100,
                    "depth_range": 35,
                    "depth_bias": 44
                },
                "hsv": {
                    "hsv_h_min": 70,
                    "hsv_h_max": 105,
                    "hsv_s_min": 50,
                    "hsv_s_max": 255,
                    "hsv_v_min": 120,
                    "hsv_v_max": 255
                },
                "preprocess": {
                    "blur_size": 15,
                    "opened_kernel_type": "MORPH_RECT",
                    "opened_size": [2, 9],
                    "opened_iterations": 3,
                    "closed_size": [1, 9],
                    "closed_iterations": 3,
                    "closed_kernel_type": "MORPH_ELLIPSE"
                },
                "remove_cnts": {"expected_width": 1150, "expected_height": 850},
                "edge_removal": {"edge_margin": 35},
                "hit_contours": {"angle_step": 10, "step_size": 1},
                "rect_validation": {
                    "max_angle": 20,
                    "box_ratio_range": [1.295, 1.385],
                    "max_distance": 150
                }
            }

        ],
        "qr_detection": [
            {
                "qr_size": 0.026,
                "mode": "gray",
                "clahe": {"clip_limit": 4.0, "grid_size": 8},
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "gray_with_binarization",
                "clahe": {"clip_limit": 4.0, "grid_size": 8},
                "binarization": {
                    "gamma": 3,
                    "binarization": {"block_size": 31, "C": 1},
                    "morph": {"kernel_size": 3, "open_iter": 1, "close_iter": 3}
                },
                "merge_image_weight": 0.7,
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "gray",
                "clahe": {"clip_limit": 1.0, "grid_size": 1},
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "gray_with_binarization",
                "clahe": {"clip_limit": 1.0, "grid_size": 1},
                "binarization": {
                    "gamma": 3,
                    "binarization": {"block_size": 31, "C": 1},
                    "morph": {"kernel_size": 3, "open_iter": 1, "close_iter": 3}
                },
                "merge_image_weight": 0.7,
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "saturation",
                "clahe": {"clip_limit": 4.0, "grid_size": 8},
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "saturation_with_binarization",
                "clahe": {"clip_limit": 4.0, "grid_size": 8},
                "binarization": {
                    "gamma": 3,
                    "binarization": {"block_size": 31, "C": 1},
                    "morph": {"kernel_size": 3, "open_iter": 1, "close_iter": 3}
                },
                "merge_image_weight": 0.7,
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "saturation",
                "clahe": {"clip_limit": 1.0, "grid_size": 1},
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "saturation_with_binarization",
                "clahe": {"clip_limit": 1.0, "grid_size": 1},
                "binarization": {
                    "gamma": 3,
                    "binarization": {"block_size": 31, "C": 1},
                    "morph": {"kernel_size": 3, "open_iter": 1, "close_iter": 3}
                },
                "merge_image_weight": 0.7,
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            },
            {
                "qr_size": 0.026,
                "mode": "tag_reconstruction",
                "tag_reconstruction": {
                    "roi_config": {
                        "horizontal_slice": [0.33, 0.66],
                        "vertical_slice": [0.0, 1.0],
                        "overlap_fraction": 0.2
                    },
                    "scene_corners": ["BL", "TR", "BL", "TR"],
                    "central": false
                },
                "middle_area": {"min_x": 0.56, "max_x": 1.44}
            }            
        ]
    }
}